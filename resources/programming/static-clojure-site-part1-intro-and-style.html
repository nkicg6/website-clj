<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org99584fa">Part 1: Introduction and header/footer styles with hiccup</a></li>
<li><a href="#org9733968">Static sites</a></li>
<li><a href="#org24ee2f9">Why?</a>
<ul>
<li><a href="#org8bdb3d4">Why Clojure?</a></li>
<li><a href="#org21b3c7e">Why Stasis?</a></li>
</ul>
</li>
<li><a href="#org607d21f">Org-mode to html workflow</a></li>
<li><a href="#org60c5f99">Building the website</a>
<ul>
<li><a href="#orga1a5151">Style</a></li>
<li><a href="#orge6d4191">My header and footer</a></li>
</ul>
</li>
<li><a href="#org561f9ac">References</a></li>
</ul>
</div>
</div>


<div id="outline-container-org99584fa" class="outline-2">
<h2 id="org99584fa">Part 1: Introduction and header/footer styles with hiccup</h2>
</div>

<div id="outline-container-org9733968" class="outline-2">
<h2 id="org9733968">Static sites</h2>
<div class="outline-text-2" id="text-org9733968">
<p>
These are static collections of HTML, CSS, and JavaScript files that make up simple, fast websites. The main difference between static sites and dynamic websites is that static sites do not fetch information from a database upon requests. They simply contain all the HTML, etc. files that make up the website.<br />
</p>
</div>
</div>
<div id="outline-container-org24ee2f9" class="outline-2">
<h2 id="org24ee2f9">Why?</h2>
<div class="outline-text-2" id="text-org24ee2f9">
<p>
They are simple and very useful. I don't need anything more complicated for my personal website, and static sites are low maintenance and easy to customize and extend.<br />
</p>
</div>
<div id="outline-container-org8bdb3d4" class="outline-3">
<h3 id="org8bdb3d4">Why Clojure?</h3>
<div class="outline-text-3" id="text-org8bdb3d4">
<p>
I am currently learning Clojure, mostly because I wanted to learn functional programming principles and Rich Hickey gives <a href="https://github.com/tallesl/Rich-Hickey-fanclub">amazing talks</a>, but also because it is an functional programming language hosted on both the web with ClojureScript (javascript) and the JVM (regular Clojure). Since clojurescript is a clojure trans-piler for javascript, that means that I can use one language to leverage all of javascript and non-web programming or backend web tasks with clojure!<br />
</p>
</div>
</div>
<div id="outline-container-org21b3c7e" class="outline-3">
<h3 id="org21b3c7e">Why Stasis?</h3>
<div class="outline-text-3" id="text-org21b3c7e">
<p>
My original static website was written with python and the Flask framework and made into a static site with <a href="https://pythonhosted.org/Frozen-Flask/">Frozen-flask</a> and <a href="https://pythonhosted.org/Flask-FlatPages/">Flask-FlatPages</a> for hosting on github pages. I was originally going to port it to Clojure using the Clojure static site generator <a href="https://github.com/cryogen-project/cryogen">Cryogen</a>, a clojure/clojurescript static website generator, but I found the templates hard to understand and customization difficult (for a beginner at least). In the spirit of Clojure (and Tim Ewald's excellent talk <a href="https://www.youtube.com/watch?v=ShEez0JkOFw">Programming with hand tools</a>), I choose to use the <a href="https://github.com/magnars/stasis">Stasis</a>, the clojure library for developing (frameworkless) static web sites. I will write about that in this post as I go.<br />
</p>
</div>
</div>
</div>

<div id="outline-container-org607d21f" class="outline-2">
<h2 id="org607d21f">Org-mode to html workflow</h2>
<div class="outline-text-2" id="text-org607d21f">
<p>
<img src="img/org-mode-unicorn-logo.png" alt="org-mode-unicorn-logo.png" /><br />
  I write in Emacs with <a href="https://orgmode.org/">Org-mode</a> markup and plan to publish with Org-publish, so periodically I will be adding notes for how this all works with my org-mode publishing scheme. These will be under the sub heading <code>org-workflow</code> <br />
</p>
</div>
</div>

<div id="outline-container-org60c5f99" class="outline-2">
<h2 id="org60c5f99">Building the website</h2>
<div class="outline-text-2" id="text-org60c5f99">
<p>
  <i>Disclaimer</i> <br />
I am still very new to Clojure, so my custom code will likely be very beginner-ish and rough, but hopefully it will improve as I go!<br />
 I used Christian Johansen's post on Building static sites in Clojure with Stasis <a href="https://cjohansen.no/building-static-sites-in-clojure-with-stasis/">https://cjohansen.no/building-static-sites-in-clojure-with-stasis/</a> to get started. Everything I do from here on out will be changes and customizations to make the site behave like I want it to.<br />
</p>
</div>
<div id="outline-container-orga1a5151" class="outline-3">
<h3 id="orga1a5151">Style</h3>
<div class="outline-text-3" id="text-orga1a5151">
<p>
After following most of the Christian Johansen's awesome tutorial, the first thing I wanted to do was add <a href="https://getbootstrap.com/docs/3.3/getting-started/">Twitter Bootstrap</a> CSS. I know there is a <a href="https://github.com/weavejester/hiccup-bootstrap">Hiccup wrapper</a> for bootstrap, but since I write in Emacs Org-mode and export to HTML directly, I don't think it is necessary for me. Hiccup looks like simplified HTML, so I changed the name of the function from <code>layout-page</code> to <code>layout-base-header</code> and added the CDN links from the Bootstrap home page. The function now looks like this:<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">layout-base-header</span> <span style="color: #7388D6;">[</span>page<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>html5
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:head</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:charset</span> <span style="color: #008000;">"utf-8"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:name</span> <span style="color: #008000;">"viewport"</span>
            <span style="color: #D0372D;">:content</span> <span style="color: #008000;">"width=device-width, initial-scale=1.0"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:link</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:rel</span> <span style="color: #008000;">"stylesheet"</span> <span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:script</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:src</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span><span style="color: #909183;">]</span>
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:body</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.logo</span> <span style="color: #008000;">"website-clj"</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.body</span> page<span style="color: #709870;">]</span><span style="color: #909183;">]</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

</pre>
</div>

<p>
This seems to work great for my <code>.md</code> rendered page, but the base page didn't inherit this styling. Looking through the functions I copied from the tutorial, I am betting it is due to the <code>get-pages</code> function. When it declares the <code>:public</code> map, it doesn't wrap the <code>stasis/slurp-directory</code> call in another function. I assume this just renders them raw. So I will modify <code>markdown-pages</code> function for HTML pages to see if this takes care of it.<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">markdown-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">md$"</span> <span style="color: #008000;">""</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #907373;">(</span><span style="color: #6434A3;">md</span><span style="color: #333333; background-color: #FFFFFF;">/</span>to-html <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">html-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html"</span> <span style="color: #008000;">""</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #907373;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

</pre>
</div>

<p>
and then I will change <code>get-pages</code> to add this function.<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">get-pages</span> <span style="color: #7388D6;">[]</span>
  <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>merge-page-sources
   <span style="color: #909183;">{</span><span style="color: #D0372D;">:public</span> <span style="color: #709870;">(</span>html-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/public"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">html</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">css</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">js</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
    <span style="color: #D0372D;">:partials</span> <span style="color: #709870;">(</span>partial-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/partials"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
    <span style="color: #D0372D;">:markdown</span> <span style="color: #709870;">(</span>markdown-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/md"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">md$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">}</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

</pre>
</div>
<p>
But when I refreshed my webpage, I got this horrible error:<br />
</p>

<pre class="example">
1. Unhandled java.lang.IllegalArgumentException
   Don't know how to create ISeq from: clojure.core$map$fn__4781
...
</pre>

<p>
and on and on. Well, looks like I have to figure out what these functions are actually doing.<br />
</p>

<p>
First, I'll run one that I know works to see what the output looks like:<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span>markdown-pages <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/md"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">md$"</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<pre class="example">
[ "/my-first-md" "&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"&gt;&lt;link crossorigin=\"anonymous\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" rel=\"stylesheet\"&gt;&lt;script crossorigin=\"anonymous\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=\"logo\"&gt;website-clj&lt;/div&gt;&lt;div class=\"body\"&gt;&lt;h1&gt;first md post&lt;/h1&gt;&lt;p&gt;Short for now&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;" ]

</pre>

<p>
Cool. but running the following fails:<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span>html-pages <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/public"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<pre class="example">
1. Unhandled java.lang.IllegalArgumentException
   Don't know how to create ISeq from: clojure.core$map$fn__4781
...
</pre>

<p>
That tells me we are returning a function. And now I see we obviously are with the bottom <code>map</code> function! <code>#()</code> is an anonymous function, so I need to add the argument <code>%</code>!<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">html-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span> <span style="color: #008000;">""</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #BA36A5;">%</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
<span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">test</span>
<span style="color: #707183;">(</span>html-pages <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/public"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<pre class="example">
[ "/index" "&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"&gt;&lt;link crossorigin=\"anonymous\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" rel=\"stylesheet\"&gt;&lt;script crossorigin=\"anonymous\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=\"logo\"&gt;website-clj&lt;/div&gt;&lt;div class=\"body\"&gt;&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;My blog&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;My blog&lt;/h1&gt;\n    &lt;p&gt;\n      Welcome to it.\n    &lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;" ]

</pre>

<p>
Excellent! Now I will start the app up again and see what happens.<br />
</p>

<p>
weird! The landing page can't find it.<br />
<img src="img/not-found-index.png" alt="not-found-index.png" /><br />
</p>


<p>
But when I navigate to <code>/index</code>, it is right there and working.<br />
</p>


<div class="figure">
<p><img src="img/working-index.png" alt="working-index.png" /><br />
</p>
</div>

<p>
hmm, I will have to see how the home page will be rendered. When I return to Christian's blog, and re-read the explanation of <code>get-pages</code>, I see the only thing I changed was replacing the .html with a blank string. When i make the following change to the <code>html-pages</code> file, it works fine!<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">html-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span> <span style="color: #008000;">".html"</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #BA36A5;">%</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>


</pre>
</div>

<p>
Cool! so I will make a new folder called "home", and rename the folder "public" to "posts" so that it makes sense for me. After fixing the directory structure, my resources file looks like this:<br />
</p>

<pre class="example">
resources/
├── home
│   └── index.html
├── md
│   └── my-first-md.md
├── partials
│   └── about.html
└── posts
    └── test-post.html
</pre>

<p>
I then added a <code>home-page</code> function and modified <code>get-pages</code> to properly render. The relevant code (all of it) looks like this now:<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">ns</span> <span style="color: #6434A3;">website-clj.web</span>
  <span style="color: #7388D6;">(</span><span style="color: #D0372D;">:require</span> <span style="color: #909183;">[</span><span style="color: #6434A3;">clojure.java.io</span> <span style="color: #D0372D;">:as</span> io<span style="color: #909183;">]</span>
            <span style="color: #909183;">[</span><span style="color: #6434A3;">clojure.string</span> <span style="color: #D0372D;">:as</span> str<span style="color: #909183;">]</span>
            <span style="color: #909183;">[</span><span style="color: #6434A3;">hiccup.page</span> <span style="color: #D0372D;">:refer</span> <span style="color: #709870;">[</span>html5<span style="color: #709870;">]</span><span style="color: #909183;">]</span>
            <span style="color: #909183;">[</span><span style="color: #6434A3;">me.raynes.cegdown</span> <span style="color: #D0372D;">:as</span> md<span style="color: #909183;">]</span>
            <span style="color: #909183;">[</span><span style="color: #6434A3;">stasis.core</span> <span style="color: #D0372D;">:as</span> stasis<span style="color: #909183;">]</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>




<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">layout-base-header</span> <span style="color: #7388D6;">[</span>page<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>html5
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:head</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:charset</span> <span style="color: #008000;">"utf-8"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:name</span> <span style="color: #008000;">"viewport"</span>
            <span style="color: #D0372D;">:content</span> <span style="color: #008000;">"width=device-width, initial-scale=1.0"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:link</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:rel</span> <span style="color: #008000;">"stylesheet"</span> <span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:script</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:src</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span><span style="color: #909183;">]</span>
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:body</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.logo</span> <span style="color: #008000;">"website-clj"</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.body</span> page<span style="color: #709870;">]</span><span style="color: #909183;">]</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">pegdown-options</span> <span style="color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">https://github.com/sirthias/pegdown</span>
  <span style="color: #7388D6;">[</span><span style="color: #D0372D;">:autolinks</span> <span style="color: #D0372D;">:fenced-code-blocks</span> <span style="color: #D0372D;">:strikethrough</span><span style="color: #7388D6;">]</span><span style="color: #707183;">)</span>


<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">markdown-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">md$"</span> <span style="color: #008000;">""</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #907373;">(</span><span style="color: #6434A3;">md</span><span style="color: #333333; background-color: #FFFFFF;">/</span>to-html <span style="color: #BA36A5;">%</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>


<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">html-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>zipmap <span style="color: #909183;">(</span>map #<span style="color: #709870;">(</span><span style="color: #6434A3;">str</span><span style="color: #333333; background-color: #FFFFFF;">/</span><span style="color: #006FE0;">replace</span> <span style="color: #BA36A5;">%</span> #<span style="color: #008000;">"</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span> <span style="color: #008000;">""</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #BA36A5;">%</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>


<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">partial-pages</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span><span style="color: #006FE0;">zipmap</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> layout-base-header <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">home-page</span> <span style="color: #7388D6;">[</span>pages<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span><span style="color: #006FE0;">zipmap</span> <span style="color: #909183;">(</span><span style="color: #006FE0;">keys</span> pages<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #006FE0;">map</span> #<span style="color: #709870;">(</span>layout-base-header <span style="color: #BA36A5;">%</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span><span style="color: #006FE0;">vals</span> pages<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>home-page <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/home"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">html</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">css</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">js</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">$"</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>


<span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">get-pages</span> <span style="color: #7388D6;">[]</span>
  <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>merge-page-sources
   <span style="color: #909183;">{</span><span style="color: #D0372D;">:landing</span> <span style="color: #709870;">(</span>home-page <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/home"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000; font-weight: bold;">(</span><span style="color: #008000;">html</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">css</span><span style="color: #008000; font-weight: bold;">|</span><span style="color: #008000;">js</span><span style="color: #008000; font-weight: bold;">)</span><span style="color: #008000;">$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
    <span style="color: #D0372D;">:posts</span>  <span style="color: #709870;">(</span>html-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/posts"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
    <span style="color: #D0372D;">:partials</span> <span style="color: #709870;">(</span>partial-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/partials"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">html$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span>
    <span style="color: #D0372D;">:markdown</span> <span style="color: #709870;">(</span>markdown-pages <span style="color: #907373;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>slurp-directory <span style="color: #008000;">"resources/md"</span> #<span style="color: #008000;">".*</span><span style="color: #000000; font-weight: bold;">\.</span><span style="color: #008000;">md$"</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">}</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #0000FF;">def</span> <span style="color: #BA36A5;">app</span> <span style="color: #7388D6;">(</span><span style="color: #6434A3;">stasis</span><span style="color: #333333; background-color: #FFFFFF;">/</span>serve-pages get-pages<span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
and the website is working now!<br />
</p>
</div>
</div>

<div id="outline-container-orge6d4191" class="outline-3">
<h3 id="orge6d4191">My header and footer</h3>
<div class="outline-text-3" id="text-orge6d4191">
<p>
On my old Python-flask based static blog, I made a nav bar that I really liked. The source looks like this:<br />
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #0000FF;">!DOCTYPE</span> html&gt;
&lt;<span style="color: #006699;">html</span> <span style="color: #BA36A5;">lang</span>=<span style="color: #008000;">"en"</span>&gt;
    &lt;<span style="color: #006699;">head</span>&gt;

        &lt;<span style="color: #006699;">meta</span> <span style="color: #BA36A5;">charset</span>=<span style="color: #008000;">"utf-8"</span>&gt;
        &lt;<span style="color: #006699;">title</span>&gt;<span style="color: #000000; font-weight: bold; text-decoration: underline;">Nicholas George</span>&lt;/<span style="color: #006699;">title</span>&gt;    
        &lt;<span style="color: #006699;">meta</span> <span style="color: #BA36A5;">name</span>=<span style="color: #008000;">"viewport"</span> <span style="color: #BA36A5;">content</span>=<span style="color: #008000;">"width=device-width, initial-scale=1.0"</span>&gt;
        <span style="color: #8D8D84;">&lt;!--</span><span style="color: #8D8D84; font-style: italic;">link to bootstrap css </span><span style="color: #8D8D84;">--&gt;</span>
        &lt;<span style="color: #006699;">link</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"/static/css/bootstrap.min.css"</span> <span style="color: #BA36A5;">rel</span>=<span style="color: #008000;">"stylesheet"</span>&gt;
        &lt;<span style="color: #006699;">link</span> <span style="color: #BA36A5;">rel</span>=<span style="color: #008000;">"stylesheet"</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"</span>&gt;
    &lt;/<span style="color: #006699;">head</span>&gt;

    &lt;<span style="color: #006699;">body</span> <span style="color: #BA36A5;">style</span>=<span style="color: #008000;">"font-size: 16px"</span>&gt;

        <span style="color: #8D8D84;">&lt;!--</span><span style="color: #8D8D84; font-style: italic;">navbar </span><span style="color: #8D8D84;">--&gt;</span>
        &lt;<span style="color: #006699;">nav</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"navbar navbar-inverse"</span>&gt;
            &lt;<span style="color: #006699;">div</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"container-fluid"</span>&gt;
                &lt;<span style="color: #006699;">div</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"navbar-header"</span>&gt;
                    &lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"navbar-brand"</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"/"</span>&gt; Nick George&lt;/<span style="color: #006699;">a</span>&gt;
                &lt;/<span style="color: #006699;">div</span>&gt;
                &lt;<span style="color: #006699;">ul</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"nav navbar-nav navbar-right"</span>&gt;

                    &lt;<span style="color: #006699;">li</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"inactive"</span>&gt;&lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"/projects/"</span>&gt;Projects&lt;/<span style="color: #006699;">a</span>&gt;&lt;/<span style="color: #006699;">li</span>&gt;
                    &lt;<span style="color: #006699;">li</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"inactive"</span>&gt;&lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"/blog/"</span>&gt;Posts&lt;/<span style="color: #006699;">a</span>&gt;&lt;/<span style="color: #006699;">li</span>&gt;
                   &lt;<span style="color: #006699;">li</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"inactive"</span>&gt;&lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"/notes/"</span>&gt;Notes&lt;/<span style="color: #006699;">a</span>&gt;&lt;/<span style="color: #006699;">li</span>&gt; 
&lt;<span style="color: #006699;">li</span>&gt;
  &lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"https://github.com/nkicg6"</span>&gt;
    &lt;<span style="color: #006699;">span</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"fa fa-github"</span> <span style="color: #BA36A5;">style</span>=<span style="color: #008000;">"font-size:24px"</span>&gt;&lt;/<span style="color: #006699;">span</span>&gt;

  &lt;/<span style="color: #006699;">a</span>&gt;
&lt;/<span style="color: #006699;">li</span>&gt;
&lt;<span style="color: #006699;">li</span>&gt;
  &lt;<span style="color: #006699;">a</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"https://twitter.com/NicholasMG"</span>&gt;
    &lt;<span style="color: #006699;">span</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"fa fa-twitter-square"</span> <span style="color: #BA36A5;">style</span>=<span style="color: #008000;">"font-size:24px"</span>&gt;&lt;/<span style="color: #006699;">span</span>&gt;

  &lt;/<span style="color: #006699;">a</span>&gt;
&lt;/<span style="color: #006699;">li</span>&gt;
                &lt;/<span style="color: #006699;">ul</span>&gt;                        

            &lt;/<span style="color: #006699;">div</span>&gt;
        &lt;/<span style="color: #006699;">nav</span>&gt;
        &lt;<span style="color: #006699;">div</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"container"</span>&gt;
<span style="color: #8D8D84;">&lt;!--</span><span style="color: #8D8D84; font-style: italic;">content goes here</span><span style="color: #8D8D84;">--&gt;</span>            


<span style="color: #8D8D84;">&lt;!--</span><span style="color: #8D8D84; font-style: italic;">footer </span><span style="color: #8D8D84;">--&gt;</span>
            &lt;<span style="color: #006699;">footer</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"footer"</span>&gt;
                &lt;<span style="color: #006699;">div</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"text-center"</span>&gt;
                    &lt;<span style="color: #006699;">span</span> <span style="color: #BA36A5;">class</span>=<span style="color: #008000;">"text-muted"</span>&gt;<span style="color: #BA36A5;">&amp;copy</span> 2017 Nicholas George&lt;/<span style="color: #006699;">span</span>&gt;
                &lt;/<span style="color: #006699;">div</span>&gt;
            &lt;/<span style="color: #006699;">footer</span>&gt;
        &lt;/<span style="color: #006699;">div</span>&gt;
    &lt;<span style="color: #006699;">script</span> <span style="color: #BA36A5;">data-cfasync</span>=<span style="color: #008000;">"false"</span> <span style="color: #BA36A5;">src</span>=<span style="color: #008000;">"/cdn-cgi/scripts/f2bf09f8/cloudflare-static/email-decode.min.js"</span>&gt;&lt;/<span style="color: #006699;">script</span>&gt;&lt;/<span style="color: #006699;">body</span>&gt;
&lt;/<span style="color: #006699;">html</span>&gt;

</pre>
</div>

<p>
I'll translate that to hiccup and add it to my base. This was relatively straightforward to translate to hiccup. I just had to figure out the nested list structure, but once you do it isn't so bad.<br />
Here is my new <code>layout-base-header</code> function with the hiccup.<br />
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #707183;">(</span><span style="color: #0000FF;">defn</span> <span style="color: #006699;">layout-base-header</span> <span style="color: #7388D6;">[</span>page<span style="color: #7388D6;">]</span>
  <span style="color: #7388D6;">(</span>html5
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:head</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:charset</span> <span style="color: #008000;">"utf-8"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:meta</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:name</span> <span style="color: #008000;">"viewport"</span>
            <span style="color: #D0372D;">:content</span> <span style="color: #008000;">"width=device-width, initial-scale=1.0"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:link</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:rel</span> <span style="color: #008000;">"stylesheet"</span> <span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:link</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:rel</span> <span style="color: #008000;">"stylesheet"</span> <span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:script</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:src</span> <span style="color: #008000;">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"</span> <span style="color: #D0372D;">:integrity</span> <span style="color: #008000;">"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"</span> <span style="color: #D0372D;">:crossorigin</span> <span style="color: #008000;">"anonymous"</span><span style="color: #907373;">}</span><span style="color: #709870;">]</span><span style="color: #909183;">]</span>
   <span style="color: #909183;">[</span><span style="color: #D0372D;">:body</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:nav</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"navbar navbar-inverse"</span><span style="color: #907373;">}</span>
     <span style="color: #907373;">[</span><span style="color: #D0372D;">:div</span> <span style="color: #6276BA;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"container-fluid"</span><span style="color: #6276BA;">}</span>
      <span style="color: #6276BA;">[</span><span style="color: #D0372D;">:div</span> <span style="color: #858580;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"navbar-header"</span><span style="color: #858580;">}</span>
       <span style="color: #858580;">(</span>link-to  <span style="color: #80A880;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"navbar-brand"</span><span style="color: #80A880;">}</span> <span style="color: #008000;">"/"</span> <span style="color: #008000;">"Nick George"</span><span style="color: #858580;">)</span><span style="color: #6276BA;">]</span>
      <span style="color: #6276BA;">[</span><span style="color: #D0372D;">:ul</span> <span style="color: #858580;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"nav navbar-nav navbar-right"</span><span style="color: #858580;">}</span>
       <span style="color: #858580;">[</span><span style="color: #D0372D;">:li</span> <span style="color: #80A880;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"inactive"</span><span style="color: #80A880;">}</span> <span style="color: #80A880;">(</span>link-to <span style="color: #008000;">"/"</span> <span style="color: #008000;">"Science"</span><span style="color: #80A880;">)</span><span style="color: #858580;">]</span>
       <span style="color: #858580;">[</span><span style="color: #D0372D;">:li</span> <span style="color: #80A880;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"inactive"</span><span style="color: #80A880;">}</span> <span style="color: #80A880;">(</span>link-to <span style="color: #008000;">"/"</span> <span style="color: #008000;">"Programming"</span><span style="color: #80A880;">)</span><span style="color: #858580;">]</span>
       <span style="color: #858580;">[</span><span style="color: #D0372D;">:li</span> <span style="color: #80A880;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"inactive"</span><span style="color: #80A880;">}</span> <span style="color: #80A880;">(</span>link-to <span style="color: #008000;">"/"</span> <span style="color: #008000;">"About"</span><span style="color: #80A880;">)</span><span style="color: #858580;">]</span>
       <span style="color: #858580;">[</span><span style="color: #D0372D;">:li</span> <span style="color: #80A880;">[</span><span style="color: #D0372D;">:a</span> <span style="color: #887070;">{</span><span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://github.com/nkicg6"</span><span style="color: #887070;">}</span>
             <span style="color: #887070;">[</span><span style="color: #D0372D;">:span</span> <span style="color: #707183;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"fa fa-github"</span> <span style="color: #D0372D;">:style</span> <span style="color: #008000;">"font-size:24px"</span><span style="color: #707183;">}</span><span style="color: #887070;">]</span><span style="color: #80A880;">]</span><span style="color: #858580;">]</span>
       <span style="color: #858580;">[</span><span style="color: #D0372D;">:li</span> <span style="color: #80A880;">[</span><span style="color: #D0372D;">:a</span> <span style="color: #887070;">{</span><span style="color: #D0372D;">:href</span> <span style="color: #008000;">"https://twitter.com/NicholasMG"</span><span style="color: #887070;">}</span>
             <span style="color: #887070;">[</span><span style="color: #D0372D;">:span</span> <span style="color: #707183;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"fa fa-twitter-square"</span> <span style="color: #D0372D;">:style</span> <span style="color: #008000;">"font-size:24px"</span><span style="color: #707183;">}</span><span style="color: #887070;">]</span><span style="color: #80A880;">]</span><span style="color: #858580;">]</span><span style="color: #6276BA;">]</span><span style="color: #907373;">]</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.logo</span> <span style="color: #008000;">"website-clj"</span><span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:div.body</span> page<span style="color: #709870;">]</span>
    <span style="color: #709870;">[</span><span style="color: #D0372D;">:footer</span> <span style="color: #907373;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"footer"</span><span style="color: #907373;">}</span>
     <span style="color: #907373;">[</span><span style="color: #D0372D;">:div</span> <span style="color: #6276BA;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"text-center"</span><span style="color: #6276BA;">}</span>
      <span style="color: #6276BA;">[</span><span style="color: #D0372D;">:span</span> <span style="color: #858580;">{</span><span style="color: #D0372D;">:class</span> <span style="color: #008000;">"text-muted"</span><span style="color: #858580;">}</span> <span style="color: #008000;">"&amp;copy 2018 Nick George"</span><span style="color: #6276BA;">]</span><span style="color: #907373;">]</span><span style="color: #709870;">]</span><span style="color: #909183;">]</span><span style="color: #7388D6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
I changed the section names and added dummy links for now, but the rest is a pretty straightforward translation. I am sure I am writing it in a non-compact way (i.e. it looks like classes under tags can be indicated as <code>.</code> attributes such as <code>[:div.logo "website-clj"]</code> expanding to <code>&lt;div class</code>"logo"&gt; "website-clj"&lt;/div&gt;), but this is working for me and it now renders like so:<br />
</p>


<div class="figure">
<p><img src="img/with-header-footer.png" alt="with-header-footer.png" /><br />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org561f9ac" class="outline-2">
<h2 id="org561f9ac">References</h2>
<div class="outline-text-2" id="text-org561f9ac">
<ul class="org-ul">
<li><a href="https://github.com/magnars/stasis">Stasis</a><br /></li>
<li><a href="https://github.com/magnars/optimus">Optimus links</a><br /></li>
<li><a href="https://github.com/ring-clojure/ring/wiki/Static-Resources">Ring static middleware</a><br /></li>
<li><a href="https://github.com/yokolet/hiccup-samples">hiccup samples</a><br /></li>
<li>Christian Johansen's post on Building static sites in Clojure with Stasis <a href="https://cjohansen.no/building-static-sites-in-clojure-with-stasis/">https://cjohansen.no/building-static-sites-in-clojure-with-stasis/</a><br />
<ul class="org-ul">
<li>handling links <a href="https://cjohansen.no/optimized-optimus-asset-paths-clojurescript/">https://cjohansen.no/optimized-optimus-asset-paths-clojurescript/</a><br /></li>
<li>Also his post here is similar with some (useful) differences <a href="https://github.com/cjohansen/cjohansen-no/blob/master/resources/md/building-static-sites-in-clojure-with-stasis.md">https://github.com/cjohansen/cjohansen-no/blob/master/resources/md/building-static-sites-in-clojure-with-stasis.md</a><br /></li>
</ul></li>
<li><a href="https://8thlight.com/blog/colin-jones/2010/12/05/clojure-libs-and-namespaces-require-use-import-and-ns.html">Clojure namespaces</a><br /></li>
<li>add more org-mode links!<br /></li>
</ul>
</div>
</div>
